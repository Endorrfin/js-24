<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Basic charting with D3</title>
  <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
</head>
<body>



<!--<h3>Building a Bar Chart</h3>-->
<!--<script>-->
<!--  let w = 300;-->
<!--  let h = 100;-->
<!--  let padding = 2;-->
<!--  let dataset = [5, 10, 14, 20, 25];-->

<!--  let svg = d3.select("body")-->
<!--      .append("svg")-->
<!--        .attr("width", w)-->
<!--        .attr("height", h)-->

<!--  svg.selectAll("rect")-->
<!--      .data(dataset)-->
<!--      .enter()-->
<!--      .append("rect")-->
<!--        .attr("x", function (d, i) {-->
<!--          return i * (w / dataset.length);-->
<!--        })-->
<!--        .attr("y", function (d) {-->
<!--          return h - (d * 4);-->
<!--        })-->
<!--        .attr("width", w / dataset.length - padding)-->
<!--        .attr("height", function (d) {-->
<!--          return d * 4;-->
<!--        })-->
<!--        // .attr("fill", "steelblue");-->
<!--        // .attr("fill", d => "rgb(" + (d * 10) + " 0, 0)");-->
<!--        .attr("fill", d => "rgb(0, " + (d * 10) + ", 0)");-->

<!--</script>-->



<!--<h3>Coloring a Bar Chart</h3>-->
<!--<script>-->
<!--  let w = 300;-->
<!--  let h = 100;-->
<!--  let padding = 2;-->
<!--  let dataset = [5, 10, 14, 20, 25];-->

<!--  let svg = d3.select("body")-->
<!--      .append("svg")-->
<!--      .attr("width", w)-->
<!--      .attr("height", h)-->

<!--  function colorPicker(v) {-->
<!--    if (v <= 20) {return '#666666'}-->
<!--    else if (v >= 20) {return '#FF0033'}-->
<!--  }-->

<!--  svg.selectAll("rect")-->
<!--      .data(dataset)-->
<!--      .enter()-->
<!--      .append("rect")-->
<!--      .attr({-->
<!--        x: function (d, i) {return i * (w / dataset.length);},-->
<!--        y: function (d) {return h - (d * 4);},-->
<!--        width: w / dataset.length - padding,-->
<!--        height: function (d) {return d * 4;},-->
<!--        // fill: d => "rgb(0, " + (d * 10) + ", 0",-->
<!--        fill: function (d) {return colorPicker(d);}-->
<!--      })-->

<!--</script>-->


<h3>Adding label for Bar Chart</h3>
<script>
  let w = 300;
  let h = 120;
  let padding = 2;
  let dataset = [5, 10, 14, 20, 25, 11, 25, 22, 18, 7];

  let svg = d3.select("body")
      .append("svg")
      .attr("width", w)
      .attr("height", h)

  function colorPicker(v) {
    if (v <= 20) {return '#666666'}
    else if (v >= 20) {return '#FF0033'}
  }

  svg.selectAll("rect")
      .data(dataset)
      .enter()
      .append("rect")
      .attr({
        x: function (d, i) {return i * (w / dataset.length);},
        y: function (d) {return h - (d * 4);},
        width: w / dataset.length - padding,
        height: function (d) {return d * 4;},
        fill: function (d) {return colorPicker(d);}
      })

  svg.selectAll("text")
      .data(dataset)
      .enter()
      .append("text")
      .text(function (d) {return d;})
      .attr({
        "text-anchor": "middle",
        x: function (d, i) {return i * (w / dataset.length) + (w / dataset.length - padding) / 2;},
        y: function (d) {return h - (d * 4) + 15;},
        "font-family": 'sans-serif',
        "font-size": '12px',
        "fill": "#ffffff"
      })

</script>

</body>
</html>
